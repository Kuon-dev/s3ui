import { create } from "zustand";
import { persist } from "zustand/middleware";

export interface ThemeColors {
  accent: string;
  "accent-foreground": string;
  background: string;
  border: string;
  card: string;
  "card-foreground": string;
  "chart-1": string;
  "chart-2": string;
  "chart-3": string;
  "chart-4": string;
  "chart-5": string;
  destructive: string;
  "destructive-foreground": string;
  foreground: string;
  input: string;
  muted: string;
  "muted-foreground": string;
  popover: string;
  "popover-foreground": string;
  primary: string;
  "primary-foreground": string;
  ring: string;
  secondary: string;
  "secondary-foreground": string;
  sidebar: string;
  "sidebar-accent": string;
  "sidebar-accent-foreground": string;
  "sidebar-border": string;
  "sidebar-foreground": string;
  "sidebar-primary": string;
  "sidebar-primary-foreground": string;
  "sidebar-ring": string;
  success: string;
  "success-foreground": string;
  warning: string;
  "warning-foreground": string;
  info: string;
  "info-foreground": string;
}

export interface Theme {
  category?: "cool" | "minimal" | "vibrant" | "warm";
  colors: ThemeColors;
  description?: string;
  id: string;
  name: string;
  preview?: {
    accent: string;
    primary: string;
    secondary: string;
    text: string;
  };
  tags?: string[];
}

export interface ThemeStore {
  addTheme: (theme: Theme) => void;
  currentTheme: string;
  removeTheme: (themeId: string) => void;
  setTheme: (themeId: string) => void;
  themes: Theme[];
}

// const WHITE_COLOR = "oklch(1.0000 0 0)";

const defaultThemes: Theme[] = [
  {
    category: "vibrant",
    colors: {
      accent: "oklch(0.3354 0.0828 280.9705)",
      "accent-foreground": "oklch(0.9185 0.0257 285.8834)",
      background: "oklch(0.1743 0.0227 283.7998)",
      border: "oklch(0.3261 0.0597 282.5832)",
      card: "oklch(0.2284 0.0384 282.9324)",
      "card-foreground": "oklch(0.9185 0.0257 285.8834)",
      "chart-1": "oklch(0.7162 0.1597 290.3962)",
      "chart-2": "oklch(0.6382 0.1047 274.9117)",
      "chart-3": "oklch(0.7482 0.1235 244.7492)",
      "chart-4": "oklch(0.7124 0.0977 186.6761)",
      "chart-5": "oklch(0.7546 0.1831 346.8124)",
      destructive: "oklch(0.6861 0.2061 14.9941)",
      "destructive-foreground": "oklch(1.0000 0 0)",
      foreground: "oklch(0.9185 0.0257 285.8834)",
      input: "oklch(0.3261 0.0597 282.5832)",
      muted: "oklch(0.2710 0.0621 281.4377)",
      "muted-foreground": "oklch(0.7166 0.0462 285.1741)",
      popover: "oklch(0.2284 0.0384 282.9324)",
      "popover-foreground": "oklch(0.9185 0.0257 285.8834)",
      primary: "oklch(0.7162 0.1597 290.3962)",
      "primary-foreground": "oklch(0.1743 0.0227 283.7998)",
      ring: "oklch(0.7162 0.1597 290.3962)",
      secondary: "oklch(0.3139 0.0736 283.4591)",
      "secondary-foreground": "oklch(0.8367 0.0849 285.9111)",
      sidebar: "oklch(0.2284 0.0384 282.9324)",
      "sidebar-accent": "oklch(0.3354 0.0828 280.9705)",
      "sidebar-accent-foreground": "oklch(0.9185 0.0257 285.8834)",
      "sidebar-border": "oklch(0.3261 0.0597 282.5832)",
      "sidebar-foreground": "oklch(0.9185 0.0257 285.8834)",
      "sidebar-primary": "oklch(0.7162 0.1597 290.3962)",
      "sidebar-primary-foreground": "oklch(0.1743 0.0227 283.7998)",
      "sidebar-ring": "oklch(0.7162 0.1597 290.3962)",
      success: "oklch(0.696 0.17 162.48)",
      "success-foreground": "oklch(0.141 0.005 285.823)",
      warning: "oklch(0.769 0.188 70.08)",
      "warning-foreground": "oklch(0.141 0.005 285.823)",
      info: "oklch(0.488 0.243 264.376)",
      "info-foreground": "oklch(0.985 0 0)",
    },
    description: "A balanced dark theme with vibrant purple accents, perfect for long coding sessions",
    id: "default-dark",
    name: "Default Dark",
    preview: {
      accent: "oklch(0.3354 0.0828 280.9705)",
      primary: "oklch(0.7162 0.1597 290.3962)",
      secondary: "oklch(0.3139 0.0736 283.4591)",
      text: "oklch(0.9185 0.0257 285.8834)",
    },
    tags: ["purple", "balanced", "modern"],
  },
  {
    category: "warm",
    colors: {
      accent: "oklch(0.9245 0.0138 92.9892)",
      "accent-foreground": "oklch(0.2671 0.0196 98.9390)",
      background: "oklch(0.2679 0.0036 106.6427)",
      border: "oklch(0.3618 0.0101 106.8928)",
      card: "oklch(0.2679 0.0036 106.6427)",
      "card-foreground": "oklch(0.9818 0.0054 95.0986)",
      "chart-1": "oklch(0.5583 0.1276 42.9956)",
      "chart-2": "oklch(0.6898 0.1581 290.4107)",
      "chart-3": "oklch(0.2130 0.0078 95.4245)",
      "chart-4": "oklch(0.3074 0.0516 289.3230)",
      "chart-5": "oklch(0.5608 0.1348 42.0584)",
      destructive: "oklch(0.6368 0.2078 25.3313)",
      "destructive-foreground": "oklch(1.0000 0 0)",
      foreground: "oklch(0.8074 0.0142 93.0137)",
      input: "oklch(0.4336 0.0113 100.2195)",
      muted: "oklch(0.2213 0.0038 106.7070)",
      "muted-foreground": "oklch(0.7713 0.0169 99.0657)",
      popover: "oklch(0.3085 0.0035 106.6039)",
      "popover-foreground": "oklch(0.9211 0.0040 106.4781)",
      primary: "oklch(0.6724 0.1308 38.7559)",
      "primary-foreground": "oklch(1.0000 0 0)",
      ring: "oklch(0.5937 0.1673 253.0630)",
      secondary: "oklch(0.9818 0.0054 95.0986)",
      "secondary-foreground": "oklch(0.3085 0.0035 106.6039)",
      sidebar: "oklch(0.2357 0.0024 67.7077)",
      "sidebar-accent": "oklch(0.1680 0.0020 106.6177)",
      "sidebar-accent-foreground": "oklch(0.8074 0.0142 93.0137)",
      "sidebar-border": "oklch(0.9401 0 0)",
      "sidebar-foreground": "oklch(0.8074 0.0142 93.0137)",
      "sidebar-primary": "oklch(0.3250 0 0)",
      "sidebar-primary-foreground": "oklch(0.9881 0 0)",
      "sidebar-ring": "oklch(0.7731 0 0)",
      success: "oklch(0.6724 0.1308 120.7559)",
      "success-foreground": "oklch(0.2679 0.0036 106.6427)",
      warning: "oklch(0.7546 0.1831 60.8124)",
      "warning-foreground": "oklch(0.2679 0.0036 106.6427)",
      info: "oklch(0.6382 0.1047 250.9117)",
      "info-foreground": "oklch(0.9818 0.0054 95.0986)",
    },
    description: "Energetic theme with warm amber tones, inspired by your favorite coffee break",
    id: "caffeine",
    name: "Caffeine",
    preview: {
      accent: "oklch(0.9245 0.0138 92.9892)",
      primary: "oklch(0.6724 0.1308 38.7559)",
      secondary: "oklch(0.9818 0.0054 95.0986)",
      text: "oklch(0.8074 0.0142 93.0137)",
    },
    tags: ["amber", "energetic", "coffee"],
  },
  {
    category: "minimal",
    colors: {
      accent: "oklch(0.4732 0.1247 46.2007)",
      "accent-foreground": "oklch(0.9243 0.1151 95.7459)",
      background: "oklch(0.2046 0 0)",
      border: "oklch(0.3715 0 0)",
      card: "oklch(0.2686 0 0)",
      "card-foreground": "oklch(0.9219 0 0)",
      "chart-1": "oklch(0.8369 0.1644 84.4286)",
      "chart-2": "oklch(0.6658 0.1574 58.3183)",
      "chart-3": "oklch(0.4732 0.1247 46.2007)",
      "chart-4": "oklch(0.5553 0.1455 48.9975)",
      "chart-5": "oklch(0.4732 0.1247 46.2007)",
      destructive: "oklch(0.6368 0.2078 25.3313)",
      "destructive-foreground": "oklch(1.0000 0 0)",
      foreground: "oklch(0.9219 0 0)",
      input: "oklch(0.3715 0 0)",
      muted: "oklch(0.2686 0 0)",
      "muted-foreground": "oklch(0.7155 0 0)",
      popover: "oklch(0.2686 0 0)",
      "popover-foreground": "oklch(0.9219 0 0)",
      primary: "oklch(0.7686 0.1647 70.0804)",
      "primary-foreground": "oklch(0 0 0)",
      ring: "oklch(0.7686 0.1647 70.0804)",
      secondary: "oklch(0.2686 0 0)",
      "secondary-foreground": "oklch(0.9219 0 0)",
      sidebar: "oklch(0.1684 0 0)",
      "sidebar-accent": "oklch(0.4732 0.1247 46.2007)",
      "sidebar-accent-foreground": "oklch(0.9243 0.1151 95.7459)",
      "sidebar-border": "oklch(0.3715 0 0)",
      "sidebar-foreground": "oklch(0.9219 0 0)",
      "sidebar-primary": "oklch(0.7686 0.1647 70.0804)",
      "sidebar-primary-foreground": "oklch(1.0000 0 0)",
      "sidebar-ring": "oklch(0.7686 0.1647 70.0804)",
      success: "oklch(0.6658 0.1574 140.3183)",
      "success-foreground": "oklch(0.2046 0 0)",
      warning: "oklch(0.7686 0.1647 70.0804)",
      "warning-foreground": "oklch(0.2046 0 0)",
      info: "oklch(0.5553 0.1455 240.9975)",
      "info-foreground": "oklch(0.9219 0 0)",
    },
    description: "Clean and minimal with subtle amber highlights for focused work",
    id: "amber-minimal",
    name: "Amber Minimal",
    preview: {
      accent: "oklch(0.4732 0.1247 46.2007)",
      primary: "oklch(0.7686 0.1647 70.0804)",
      secondary: "oklch(0.2686 0 0)",
      text: "oklch(0.9219 0 0)",
    },
    tags: ["amber", "minimal", "clean"],
  },
  {
    category: "cool",
    colors: {
      accent: "oklch(0.3132 0 0)",
      "accent-foreground": "oklch(0.9851 0 0)",
      background: "oklch(0.1822 0 0)",
      border: "oklch(0.2809 0 0)",
      card: "oklch(0.2046 0 0)",
      "card-foreground": "oklch(0.9288 0.0126 255.5078)",
      "chart-1": "oklch(0.8003 0.1821 151.7110)",
      "chart-2": "oklch(0.7137 0.1434 254.6240)",
      "chart-3": "oklch(0.7090 0.1592 293.5412)",
      "chart-4": "oklch(0.8369 0.1644 84.4286)",
      "chart-5": "oklch(0.7845 0.1325 181.9120)",
      destructive: "oklch(0.3123 0.0852 29.7877)",
      "destructive-foreground": "oklch(0.9368 0.0045 34.3092)",
      foreground: "oklch(0.9288 0.0126 255.5078)",
      input: "oklch(0.2603 0 0)",
      muted: "oklch(0.2393 0 0)",
      "muted-foreground": "oklch(0.7122 0 0)",
      popover: "oklch(0.2603 0 0)",
      "popover-foreground": "oklch(0.7348 0 0)",
      primary: "oklch(0.4365 0.1044 156.7556)",
      "primary-foreground": "oklch(0.9213 0.0135 167.1556)",
      ring: "oklch(0.8003 0.1821 151.7110)",
      secondary: "oklch(0.2603 0 0)",
      "secondary-foreground": "oklch(0.9851 0 0)",
      sidebar: "oklch(0.1822 0 0)",
      "sidebar-accent": "oklch(0.3132 0 0)",
      "sidebar-accent-foreground": "oklch(0.9851 0 0)",
      "sidebar-border": "oklch(0.2809 0 0)",
      "sidebar-foreground": "oklch(0.6301 0 0)",
      "sidebar-primary": "oklch(0.4365 0.1044 156.7556)",
      "sidebar-primary-foreground": "oklch(0.9213 0.0135 167.1556)",
      "sidebar-ring": "oklch(0.8003 0.1821 151.7110)",
      success: "oklch(0.8003 0.1821 151.7110)",
      "success-foreground": "oklch(0.1822 0 0)",
      warning: "oklch(0.8369 0.1644 84.4286)",
      "warning-foreground": "oklch(0.1822 0 0)",
      info: "oklch(0.7137 0.1434 254.6240)",
      "info-foreground": "oklch(0.9288 0.0126 255.5078)",
    },
    description: "Developer-focused theme with cool green accents, inspired by modern databases",
    id: "supabase",
    name: "Supabase",
    preview: {
      accent: "oklch(0.3132 0 0)",
      primary: "oklch(0.4365 0.1044 156.7556)",
      secondary: "oklch(0.2603 0 0)",
      text: "oklch(0.9288 0.0126 255.5078)",
    },
    tags: ["green", "developer", "modern"],
  },
  {
    category: "warm",
    colors: {
      accent: "oklch(0.3798 0.0984 280.7906)",
      "accent-foreground": "oklch(0.9185 0.0257 285.8834)",
      background: "oklch(0.1526 0.0200 282.5037)",
      border: "oklch(0.3261 0.0597 282.5832)",
      card: "oklch(0.1984 0.0339 282.5832)",
      "card-foreground": "oklch(0.9185 0.0257 285.8834)",
      "chart-1": "oklch(0.7835 0.1797 321.1476)",
      "chart-2": "oklch(0.6994 0.1797 360.0000)",
      "chart-3": "oklch(0.7346 0.1797 14.7613)",
      "chart-4": "oklch(0.8097 0.1797 54.4899)",
      "chart-5": "oklch(0.7835 0.1797 85.5100)",
      destructive: "oklch(0.6861 0.2061 14.9941)",
      "destructive-foreground": "oklch(1.0000 0 0)",
      foreground: "oklch(0.9185 0.0257 285.8834)",
      input: "oklch(0.3261 0.0597 282.5832)",
      muted: "oklch(0.2710 0.0621 281.4377)",
      "muted-foreground": "oklch(0.7166 0.0462 285.1741)",
      popover: "oklch(0.1984 0.0339 282.5832)",
      "popover-foreground": "oklch(0.9185 0.0257 285.8834)",
      primary: "oklch(0.7835 0.1797 321.1476)",
      "primary-foreground": "oklch(0.1743 0.0227 283.7998)",
      ring: "oklch(0.7835 0.1797 321.1476)",
      secondary: "oklch(0.3139 0.0736 283.4591)",
      "secondary-foreground": "oklch(0.8367 0.0849 285.9111)",
      sidebar: "oklch(0.1984 0.0339 282.5832)",
      "sidebar-accent": "oklch(0.3798 0.0984 280.7906)",
      "sidebar-accent-foreground": "oklch(0.9185 0.0257 285.8834)",
      "sidebar-border": "oklch(0.3261 0.0597 282.5832)",
      "sidebar-foreground": "oklch(0.9185 0.0257 285.8834)",
      "sidebar-primary": "oklch(0.7835 0.1797 321.1476)",
      "sidebar-primary-foreground": "oklch(0.1743 0.0227 283.7998)",
      "sidebar-ring": "oklch(0.7835 0.1797 321.1476)",
      success: "oklch(0.7346 0.1797 140.7613)",
      "success-foreground": "oklch(0.1526 0.0200 282.5037)",
      warning: "oklch(0.8097 0.1797 54.4899)",
      "warning-foreground": "oklch(0.1526 0.0200 282.5037)",
      info: "oklch(0.6994 0.1797 270.0000)",
      "info-foreground": "oklch(0.9185 0.0257 285.8834)",
    },
    description: "Warm gradient tones reminiscent of a beautiful sunset, ideal for evening sessions",
    id: "sunset",
    name: "Sunset",
    preview: {
      accent: "oklch(0.3798 0.0984 280.7906)",
      primary: "oklch(0.7835 0.1797 321.1476)",
      secondary: "oklch(0.3139 0.0736 283.4591)",
      text: "oklch(0.9185 0.0257 285.8834)",
    },
    tags: ["pink", "orange", "gradient"],
  },
  {
    category: "minimal",
    colors: {
      accent: "oklch(0.3261 0.0597 282.5832)",
      "accent-foreground": "oklch(0.9185 0.0257 285.8834)",
      background: "oklch(0.1411 0 0)",
      border: "oklch(0.2809 0 0)",
      card: "oklch(0.1822 0 0)",
      "card-foreground": "oklch(0.9219 0 0)",
      "chart-1": "oklch(0.5117 0 0)",
      "chart-2": "oklch(0.6301 0 0)",
      "chart-3": "oklch(0.7122 0 0)",
      "chart-4": "oklch(0.7903 0 0)",
      "chart-5": "oklch(0.8646 0 0)",
      destructive: "oklch(0.5861 0.2022 27.3249)",
      "destructive-foreground": "oklch(1.0000 0 0)",
      foreground: "oklch(0.9219 0 0)",
      input: "oklch(0.2809 0 0)",
      muted: "oklch(0.2258 0 0)",
      "muted-foreground": "oklch(0.7155 0 0)",
      popover: "oklch(0.1822 0 0)",
      "popover-foreground": "oklch(0.9219 0 0)",
      primary: "oklch(0.9219 0 0)",
      "primary-foreground": "oklch(0.1822 0 0)",
      ring: "oklch(0.9219 0 0)",
      secondary: "oklch(0.2603 0 0)",
      "secondary-foreground": "oklch(0.9219 0 0)",
      sidebar: "oklch(0.1411 0 0)",
      "sidebar-accent": "oklch(0.3261 0.0597 282.5832)",
      "sidebar-accent-foreground": "oklch(0.9185 0.0257 285.8834)",
      "sidebar-border": "oklch(0.2809 0 0)",
      "sidebar-foreground": "oklch(0.7155 0 0)",
      "sidebar-primary": "oklch(0.9219 0 0)",
      "sidebar-primary-foreground": "oklch(0.1822 0 0)",
      "sidebar-ring": "oklch(0.9219 0 0)",
      success: "oklch(0.6301 0 0)",
      "success-foreground": "oklch(0.1411 0 0)",
      warning: "oklch(0.7903 0 0)",
      "warning-foreground": "oklch(0.1411 0 0)",
      info: "oklch(0.5117 0 0)",
      "info-foreground": "oklch(0.9219 0 0)",
    },
    description: "Pure grayscale theme for maximum focus and zero distractions",
    id: "monochrome",
    name: "Monochrome",
    preview: {
      accent: "oklch(0.3261 0.0597 282.5832)",
      primary: "oklch(0.9219 0 0)",
      secondary: "oklch(0.2603 0 0)",
      text: "oklch(0.9219 0 0)",
    },
    tags: ["gray", "monochrome", "focus"],
  },
  {
    category: "cool",
    colors: {
      accent: "oklch(0.3715 0.1009 198.5648)",
      "accent-foreground": "oklch(0.9185 0.0257 285.8834)",
      background: "oklch(0.1607 0.0169 237.5836)",
      border: "oklch(0.3261 0.0597 242.5832)",
      card: "oklch(0.2099 0.0289 240.5832)",
      "card-foreground": "oklch(0.9185 0.0257 285.8834)",
      "chart-1": "oklch(0.6658 0.2265 197.0765)",
      "chart-2": "oklch(0.6898 0.1581 253.4107)",
      "chart-3": "oklch(0.5900 0.1592 176.7673)",
      "chart-4": "oklch(0.5124 0.1797 231.8013)",
      "chart-5": "oklch(0.7346 0.1797 167.1040)",
      destructive: "oklch(0.6861 0.2061 14.9941)",
      "destructive-foreground": "oklch(1.0000 0 0)",
      foreground: "oklch(0.9185 0.0257 285.8834)",
      input: "oklch(0.3261 0.0597 242.5832)",
      muted: "oklch(0.2710 0.0621 241.4377)",
      "muted-foreground": "oklch(0.7166 0.0462 285.1741)",
      popover: "oklch(0.2099 0.0289 240.5832)",
      "popover-foreground": "oklch(0.9185 0.0257 285.8834)",
      primary: "oklch(0.6658 0.2265 197.0765)",
      "primary-foreground": "oklch(0.1743 0.0227 283.7998)",
      ring: "oklch(0.6658 0.2265 197.0765)",
      secondary: "oklch(0.3139 0.0736 243.4591)",
      "secondary-foreground": "oklch(0.8367 0.0849 285.9111)",
      sidebar: "oklch(0.2099 0.0289 240.5832)",
      "sidebar-accent": "oklch(0.3715 0.1009 198.5648)",
      "sidebar-accent-foreground": "oklch(0.9185 0.0257 285.8834)",
      "sidebar-border": "oklch(0.3261 0.0597 242.5832)",
      "sidebar-foreground": "oklch(0.9185 0.0257 285.8834)",
      "sidebar-primary": "oklch(0.6658 0.2265 197.0765)",
      "sidebar-primary-foreground": "oklch(0.1743 0.0227 283.7998)",
      "sidebar-ring": "oklch(0.6658 0.2265 197.0765)",
      success: "oklch(0.5900 0.1592 176.7673)",
      "success-foreground": "oklch(0.1607 0.0169 237.5836)",
      warning: "oklch(0.7346 0.1797 67.1040)",
      "warning-foreground": "oklch(0.1607 0.0169 237.5836)",
      info: "oklch(0.6658 0.2265 197.0765)",
      "info-foreground": "oklch(0.9185 0.0257 285.8834)",
    },
    description: "Deep ocean blues with aqua accents, perfect for deep focus sessions",
    id: "ocean",
    name: "Ocean",
    preview: {
      accent: "oklch(0.3715 0.1009 198.5648)",
      primary: "oklch(0.6658 0.2265 197.0765)",
      secondary: "oklch(0.3139 0.0736 243.4591)",
      text: "oklch(0.9185 0.0257 285.8834)",
    },
    tags: ["blue", "aqua", "ocean"],
  },
  {
    category: "cool",
    colors: {
      accent: "oklch(0.4219 0.1272 113.0765)",
      "accent-foreground": "oklch(0.1822 0.0136 112.0765)",
      background: "oklch(0.1565 0.0061 112.0765)",
      border: "oklch(0.3085 0.0481 112.0765)",
      card: "oklch(0.2046 0.0103 112.0765)",
      "card-foreground": "oklch(0.9185 0.0257 112.0765)",
      "chart-1": "oklch(0.6382 0.1868 143.2187)",
      "chart-2": "oklch(0.7162 0.1597 74.2187)",
      "chart-3": "oklch(0.5117 0.1574 187.0765)",
      "chart-4": "oklch(0.6898 0.1797 112.0765)",
      "chart-5": "oklch(0.7835 0.1435 161.2187)",
      destructive: "oklch(0.6861 0.2061 14.9941)",
      "destructive-foreground": "oklch(1.0000 0 0)",
      foreground: "oklch(0.9185 0.0257 112.0765)",
      input: "oklch(0.3085 0.0481 112.0765)",
      muted: "oklch(0.2603 0.0309 112.0765)",
      "muted-foreground": "oklch(0.7166 0.0462 112.0765)",
      popover: "oklch(0.2046 0.0103 112.0765)",
      "popover-foreground": "oklch(0.9185 0.0257 112.0765)",
      primary: "oklch(0.6382 0.1868 143.2187)",
      "primary-foreground": "oklch(0.1743 0.0227 143.2187)",
      ring: "oklch(0.6382 0.1868 143.2187)",
      secondary: "oklch(0.3085 0.0481 112.0765)",
      "secondary-foreground": "oklch(0.8367 0.0849 112.0765)",
      sidebar: "oklch(0.2046 0.0103 112.0765)",
      "sidebar-accent": "oklch(0.4219 0.1272 113.0765)",
      "sidebar-accent-foreground": "oklch(0.1822 0.0136 112.0765)",
      "sidebar-border": "oklch(0.3085 0.0481 112.0765)",
      "sidebar-foreground": "oklch(0.9185 0.0257 112.0765)",
      "sidebar-primary": "oklch(0.6382 0.1868 143.2187)",
      "sidebar-primary-foreground": "oklch(0.1743 0.0227 143.2187)",
      "sidebar-ring": "oklch(0.6382 0.1868 143.2187)",
      success: "oklch(0.6382 0.1868 143.2187)",
      "success-foreground": "oklch(0.1565 0.0061 112.0765)",
      warning: "oklch(0.7162 0.1597 74.2187)",
      "warning-foreground": "oklch(0.1565 0.0061 112.0765)",
      info: "oklch(0.5117 0.1574 187.0765)",
      "info-foreground": "oklch(0.9185 0.0257 112.0765)",
    },
    description: "Natural green tones inspired by deep forests, calming and refreshing",
    id: "forest",
    name: "Forest",
    preview: {
      accent: "oklch(0.4219 0.1272 113.0765)",
      primary: "oklch(0.6382 0.1868 143.2187)",
      secondary: "oklch(0.3085 0.0481 112.0765)",
      text: "oklch(0.9185 0.0257 112.0765)",
    },
    tags: ["green", "nature", "forest"],
  },
  {
    category: "vibrant",
    colors: {
      accent: "oklch(0.4560 0.1868 360.0000)",
      "accent-foreground": "oklch(0.9185 0.0257 285.8834)",
      background: "oklch(0.1607 0.0227 360.0000)",
      border: "oklch(0.3261 0.0797 360.0000)",
      card: "oklch(0.2099 0.0384 360.0000)",
      "card-foreground": "oklch(0.9185 0.0257 285.8834)",
      "chart-1": "oklch(0.7835 0.1797 360.0000)",
      "chart-2": "oklch(0.6994 0.1797 14.7613)",
      "chart-3": "oklch(0.7346 0.1797 333.1902)",
      "chart-4": "oklch(0.8097 0.1797 348.4899)",
      "chart-5": "oklch(0.7835 0.1797 25.5100)",
      destructive: "oklch(0.6861 0.2061 14.9941)",
      "destructive-foreground": "oklch(1.0000 0 0)",
      foreground: "oklch(0.9185 0.0257 285.8834)",
      input: "oklch(0.3261 0.0797 360.0000)",
      muted: "oklch(0.2710 0.0621 360.0000)",
      "muted-foreground": "oklch(0.7166 0.0462 285.1741)",
      popover: "oklch(0.2099 0.0384 360.0000)",
      "popover-foreground": "oklch(0.9185 0.0257 285.8834)",
      primary: "oklch(0.7835 0.1797 360.0000)",
      "primary-foreground": "oklch(0.1743 0.0227 283.7998)",
      ring: "oklch(0.7835 0.1797 360.0000)",
      secondary: "oklch(0.3139 0.0736 360.0000)",
      "secondary-foreground": "oklch(0.8367 0.0849 285.9111)",
      sidebar: "oklch(0.2099 0.0384 360.0000)",
      "sidebar-accent": "oklch(0.4560 0.1868 360.0000)",
      "sidebar-accent-foreground": "oklch(0.9185 0.0257 285.8834)",
      "sidebar-border": "oklch(0.3261 0.0797 360.0000)",
      "sidebar-foreground": "oklch(0.9185 0.0257 285.8834)",
      "sidebar-primary": "oklch(0.7835 0.1797 360.0000)",
      "sidebar-primary-foreground": "oklch(0.1743 0.0227 283.7998)",
      "sidebar-ring": "oklch(0.7835 0.1797 360.0000)",
      success: "oklch(0.6994 0.1797 120.7613)",
      "success-foreground": "oklch(0.1607 0.0227 360.0000)",
      warning: "oklch(0.8097 0.1797 45.4899)",
      "warning-foreground": "oklch(0.1607 0.0227 360.0000)",
      info: "oklch(0.7346 0.1797 240.1902)",
      "info-foreground": "oklch(0.9185 0.0257 285.8834)",
    },
    description: "Bold red theme with high energy, perfect for passionate coding sessions",
    id: "ruby",
    name: "Ruby",
    preview: {
      accent: "oklch(0.4560 0.1868 360.0000)",
      primary: "oklch(0.7835 0.1797 360.0000)",
      secondary: "oklch(0.3139 0.0736 360.0000)",
      text: "oklch(0.9185 0.0257 285.8834)",
    },
    tags: ["red", "bold", "energy"],
  },
  {
    category: "vibrant",
    colors: {
      accent: "oklch(0.8903 0.1739 171.2690)",
      "accent-foreground": "oklch(0.1649 0.0352 281.8285)",
      background: "oklch(0.1649 0.0352 281.8285)",
      border: "oklch(0.3279 0.0832 280.7890)",
      card: "oklch(0.2542 0.0611 281.1423)",
      "card-foreground": "oklch(0.9513 0.0074 260.7315)",
      "chart-1": "oklch(0.6726 0.2904 341.4084)",
      "chart-2": "oklch(0.5488 0.2944 299.0954)",
      "chart-3": "oklch(0.8442 0.1457 209.2851)",
      "chart-4": "oklch(0.8903 0.1739 171.2690)",
      "chart-5": "oklch(0.9168 0.1915 101.4070)",
      destructive: "oklch(0.6535 0.2348 34.0370)",
      "destructive-foreground": "oklch(1.0000 0 0)",
      foreground: "oklch(0.9513 0.0074 260.7315)",
      input: "oklch(0.3279 0.0832 280.7890)",
      muted: "oklch(0.2542 0.0611 281.1423)",
      "muted-foreground": "oklch(0.6245 0.0500 278.1046)",
      popover: "oklch(0.2542 0.0611 281.1423)",
      "popover-foreground": "oklch(0.9513 0.0074 260.7315)",
      primary: "oklch(0.6726 0.2904 341.4084)",
      "primary-foreground": "oklch(1.0000 0 0)",
      ring: "oklch(0.6726 0.2904 341.4084)",
      secondary: "oklch(0.2542 0.0611 281.1423)",
      "secondary-foreground": "oklch(0.9513 0.0074 260.7315)",
      sidebar: "oklch(0.1649 0.0352 281.8285)",
      "sidebar-accent": "oklch(0.8903 0.1739 171.2690)",
      "sidebar-accent-foreground": "oklch(0.1649 0.0352 281.8285)",
      "sidebar-border": "oklch(0.3279 0.0832 280.7890)",
      "sidebar-foreground": "oklch(0.9513 0.0074 260.7315)",
      "sidebar-primary": "oklch(0.6726 0.2904 341.4084)",
      "sidebar-primary-foreground": "oklch(1.0000 0 0)",
      "sidebar-ring": "oklch(0.6726 0.2904 341.4084)",
      success: "oklch(0.8903 0.1739 171.2690)",
      "success-foreground": "oklch(0.1649 0.0352 281.8285)",
      warning: "oklch(0.9168 0.1915 101.4070)",
      "warning-foreground": "oklch(0.1649 0.0352 281.8285)",
      info: "oklch(0.8442 0.1457 209.2851)",
      "info-foreground": "oklch(0.1649 0.0352 281.8285)",
    },
    description: "High-energy neon theme with cyberpunk aesthetics, featuring electric pink and cyan accents",
    id: "cyberpunk",
    name: "Cyberpunk",
    preview: {
      accent: "oklch(0.8903 0.1739 171.2690)",
      primary: "oklch(0.6726 0.2904 341.4084)",
      secondary: "oklch(0.2542 0.0611 281.1423)",
      text: "oklch(0.9513 0.0074 260.7315)",
    },
    tags: ["neon", "cyberpunk", "electric"],
  },
  {
    category: "cool",
    colors: {
      accent: "oklch(0.3858 0.0509 304.6383)",
      "accent-foreground": "oklch(0.8717 0.0093 258.3382)",
      background: "oklch(0.2161 0.0061 56.0434)",
      border: "oklch(0.3416 0.0444 308.8496)",
      card: "oklch(0.2805 0.0309 307.2326)",
      "card-foreground": "oklch(0.9299 0.0334 272.7879)",
      "chart-1": "oklch(0.5880 0.0993 245.7394)",
      "chart-2": "oklch(0.6746 0.1414 261.3380)",
      "chart-3": "oklch(0.7403 0.1357 244.2552)",
      "chart-4": "oklch(0.7087 0.1620 246.1337)",
      "chart-5": "oklch(0.6799 0.1774 248.3950)",
      destructive: "oklch(0.8077 0.1035 19.5706)",
      "destructive-foreground": "oklch(0.2161 0.0061 56.0434)",
      foreground: "oklch(0.9299 0.0334 272.7879)",
      input: "oklch(0.3416 0.0444 308.8496)",
      muted: "oklch(0.2805 0.0309 307.2326)",
      "muted-foreground": "oklch(0.7137 0.0192 261.3246)",
      popover: "oklch(0.2805 0.0309 307.2326)",
      "popover-foreground": "oklch(0.9299 0.0334 272.7879)",
      primary: "oklch(0.5880 0.0993 245.7394)",
      "primary-foreground": "oklch(0.2161 0.0061 56.0434)",
      ring: "oklch(0.5880 0.0993 245.7394)",
      secondary: "oklch(0.3416 0.0444 308.8496)",
      "secondary-foreground": "oklch(0.8717 0.0093 258.3382)",
      sidebar: "oklch(0.3416 0.0444 308.8496)",
      "sidebar-accent": "oklch(0.3858 0.0509 304.6383)",
      "sidebar-accent-foreground": "oklch(0.8717 0.0093 258.3382)",
      "sidebar-border": "oklch(0.3416 0.0444 308.8496)",
      "sidebar-foreground": "oklch(0.9299 0.0334 272.7879)",
      "sidebar-primary": "oklch(0.5880 0.0993 245.7394)",
      "sidebar-primary-foreground": "oklch(0.2161 0.0061 56.0434)",
      "sidebar-ring": "oklch(0.5880 0.0993 245.7394)",
      success: "oklch(0.6799 0.1774 148.3950)",
      "success-foreground": "oklch(0.2161 0.0061 56.0434)",
      warning: "oklch(0.8077 0.1035 79.5706)",
      "warning-foreground": "oklch(0.2161 0.0061 56.0434)",
      info: "oklch(0.5880 0.0993 245.7394)",
      "info-foreground": "oklch(0.9299 0.0334 272.7879)",
    },
    description: "Soft and calming pastel cyan theme with gentle blue tones, perfect for relaxed focus sessions",
    id: "pastel-cyan",
    name: "Pastel Cyan",
    preview: {
      accent: "oklch(0.3858 0.0509 304.6383)",
      primary: "oklch(0.5880 0.0993 245.7394)",
      secondary: "oklch(0.3416 0.0444 308.8496)",
      text: "oklch(0.9299 0.0334 272.7879)",
    },
    tags: ["pastel", "cyan", "soft"],
  },
];

const DEFAULT_THEME = "default-dark";

export const useThemeStore = create<ThemeStore>()(
  persist(
    (set, get) => ({
      addTheme: (theme: Theme) => {
        set((state) => ({
          themes: [...state.themes.filter((t) => t.id !== theme.id), theme],
        }));
      },
      currentTheme: DEFAULT_THEME,
      removeTheme: (themeId: string) => {
        if (themeId === DEFAULT_THEME) {
          return;
        }
        set((state) => ({
          currentTheme:
            state.currentTheme === themeId ? DEFAULT_THEME : state.currentTheme,
          themes: state.themes.filter((t) => t.id !== themeId),
        }));
      },
      setTheme: (themeId: string) => {
        const { themes } = get();
        const theme = themes.find((t) => t.id === themeId);

        if (theme) {
          set({ currentTheme: themeId });
        }
      },
      themes: defaultThemes,
    }),
    {
      name: "theme-storage",
    },
  ),
);